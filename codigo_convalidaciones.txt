/////////////PARA SUBIR VARIOS ARCHIVOS

<div class="form-group" id="documentos-group">
  <label for="documento">Seleccionar Documento:</label>
  <input type="file" class="form-control-file" id="documento" name="documentos[]" onchange="creaOtraSubida()">
</div>



function creaOtraSubida(){
	// Obtenemos el primer campo de input de tipo file
	var input = document.querySelector('input[type="file"]');

	// Agregamos un evento "change" al campo de input
	input.addEventListener('change', function() {
	  // Creamos un nuevo elemento input
	  var nuevoCampo = document.createElement("input");
	  nuevoCampo.type = "file";
	  nuevoCampo.name = "documentos[]";
	  nuevoCampo.className = "form-control-file";

	// Creamos un nuevo div que contendrá el nuevo campo input y lo agregamos al grupo de documentos
  	var nuevoDiv = document.createElement("div");
  	nuevoDiv.className = "form-group";
  	nuevoDiv.appendChild(nuevoCampo);
  	document.getElementById("documentos-group").appendChild(nuevoDiv);
});
}



function enviarDocumentos() {
  // Obtener los archivos seleccionados por el usuario
  var archivos = document.getElementById("documento").files;

  // Crear un objeto FormData y agregar los archivos
  var formData = new FormData();
  for (var i = 0; i < archivos.length; i++) {
    formData.append("documentos[]", archivos[i]);
  }

  // Enviar los archivos al servidor mediante una llamada AJAX
  $.ajax({
    url: "tu_archivo_php.php",
    type: "POST",
    data: formData,
    contentType: false,
    processData: false,
    success: function(response) {
      // El servidor ha respondido correctamente
      console.log(response);
    },
    error: function(xhr, status, error) {
      // Ha ocurrido un error al enviar los archivos
      console.error(error);
    }
  });
}



<?php
if ($_SERVER["REQUEST_METHOD"] == "POST") {
  // Verificar que se hayan subido archivos
  if (isset($_FILES["documentos"])) {
    // Ruta donde se guardarán los archivos
    $ruta = "xxx/yyy/";

    // Recorrer los archivos subidos
    for ($i = 0; $i < count($_FILES["documentos"]["name"]); $i++) {
      $nombre_archivo = $_FILES["documentos"]["name"][$i];
      $archivo_temporal = $_FILES["documentos"]["tmp_name"][$i];

      // Mover el archivo a la ruta especificada
      move_uploaded_file($archivo_temporal, $ruta . $nombre_archivo);
    }

    // Enviar una respuesta al cliente
    echo "Archivos subidos correctamente.";
  } else {
    // No se han subido archivos
    echo "No se han subido archivos.";
  }
}
?>



/////////////// DEVUELVE EL NÚMERO DE REGISTROS NO REVISADOS DE CADA TABLA

// Conexión a la base de datos
$servername = "localhost";
$username = "tu_usuario";
$password = "tu_contraseña";
$dbname = "tu_base_de_datos";

$conn = new mysqli($servername, $username, $password, $dbname);

// Verificación de la conexión
if ($conn->connect_error) {
    die("Conexión fallida: " . $conn->connect_error);
}

// Consulta SQL para obtener el número de registros de cada tabla con revisado=false
$sql = "SELECT COUNT(*) AS num_registros, table_name FROM information_schema.columns WHERE table_schema = '$dbname' AND column_name = 'revisado' AND column_default = '0' GROUP BY table_name";

$resultado = $conn->query($sql);

// Creación del array asociativo
$registros_no_revisados = array();
while($fila = $resultado->fetch_assoc()) {
    $registros_no_revisados[$fila['table_name']] = $fila['num_registros'];
}

// Cierre de la conexión
$conn->close();





<!DOCTYPE html>
<html>
<head>
	<title>Tabla de registros no revisados</title>
</head>
<body>

	<table id="registros-no-revisados">
		<thead>
			<tr>
				<th>Tabla</th>
				<th>Número de registros no revisados</th>
			</tr>
		</thead>
		<tbody>
			
		</tbody>
	</table>

	<script>
		// Array asociativo con los datos obtenidos en PHP
		var registrosNoRevisados = <?php echo json_encode($registros_no_revisados); ?>;

		// Obtener el elemento tbody de la tabla
		var tbody = document.querySelector('#registros-no-revisados tbody');

		// Iterar sobre el array y agregar una fila por cada registro
		for(var tabla in registrosNoRevisados) {
			var fila = document.createElement('tr');
			var celdaTabla = document.createElement('td');
			var celdaNumRegistros = document.createElement('td');

			celdaTabla.textContent = tabla;
			celdaNumRegistros.textContent = registrosNoRevisados[tabla];

			fila.appendChild(celdaTabla);
			fila.appendChild(celdaNumRegistros);

			tbody.appendChild(fila);
		}
	</script>

</body>
</html>

