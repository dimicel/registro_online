
/////////////// DEVUELVE EL NÚMERO DE REGISTROS NO REVISADOS DE CADA TABLA

// Conexión a la base de datos
$servername = "localhost";
$username = "tu_usuario";
$password = "tu_contraseña";
$dbname = "tu_base_de_datos";

$conn = new mysqli($servername, $username, $password, $dbname);

// Verificación de la conexión
if ($conn->connect_error) {
    die("Conexión fallida: " . $conn->connect_error);
}

// Consulta SQL para obtener el número de registros de cada tabla con revisado=false
$sql = "SELECT COUNT(*) AS num_registros, table_name FROM information_schema.columns WHERE table_schema = '$dbname' AND column_name = 'procesado' AND column_default = '0' GROUP BY table_name";

$resultado = $conn->query($sql);

// Creación del array asociativo
$registros_no_revisados = array();
while($fila = $resultado->fetch_assoc()) {
    $registros_no_revisados[$fila['table_name']] = $fila['num_registros'];
}

// Cierre de la conexión
$conn->close();





<!DOCTYPE html>
<html>
<head>
	<title>Tabla de registros no revisados</title>
</head>
<body>

	<table id="registros-no-revisados">
		<thead>
			<tr>
				<th>Tabla</th>
				<th>Número de registros no revisados</th>
			</tr>
		</thead>
		<tbody>
			
		</tbody>
	</table>

	<script>
		// Array asociativo con los datos obtenidos en PHP
		var registrosNoRevisados = <?php echo json_encode($registros_no_revisados); ?>;

		// Obtener el elemento tbody de la tabla
		var tbody = document.querySelector('#registros-no-revisados tbody');

		// Iterar sobre el array y agregar una fila por cada registro
		for(var tabla in registrosNoRevisados) {
			var fila = document.createElement('tr');
			var celdaTabla = document.createElement('td');
			var celdaNumRegistros = document.createElement('td');

			celdaTabla.textContent = tabla;
			celdaNumRegistros.textContent = registrosNoRevisados[tabla];

			fila.appendChild(celdaTabla);
			fila.appendChild(celdaNumRegistros);

			tbody.appendChild(fila);
		}
	</script>

</body>
</html>

